\begin{appendices}

\section{Extended resolution proof of PHP for $n=3$}

The clauses representing the pigeonhole principle for $n=3$ are:

\begin{tabular}{rllll}
   & $\{P_{1,1}, P_{1,2}\},$ & $\{P_{2,1}, P_{2,2}\},$ & $\{P_{3,1}, P_{3,2}\},$ & \\
  & $\{\neg P_{1,1}, \neg P_{2,1}\},$ & $\{\neg P_{1,1}, \neg P_{3,1}\},$ & $\{\neg P_{2,1}, \neg P_{3,1}\},$ & \\
  & $\{\neg P_{1,2}, \neg P_{2,2}\},$ & $\{\neg P_{1,2}, \neg P_{3,2}\},$ & $\{\neg P_{2,2}, \neg P_{3,2}\}$ &
\end{tabular}

We perform four extensions:
\begin{equation*}
  \begin{align*}
    Q_{1,1} &\leftrightarrow P_{1,1} \vee P_{1,2} \\
    Q_{1,1} &\leftrightarrow P_{1,1} \vee P_{3,1} \\
    Q_{2,1} &\leftrightarrow P_{2,1} \vee P_{2,2} \\
    Q_{2,1} &\leftrightarrow P_{2,1} \vee P_{3,1}.
  \end{align*}
\end{equation*}

This introduces the following additional clauses:

\begin{tabular}{lll}
  $\{\neg Q_{1,1}, P_{1,1}, P_{1,2}\}$ &
  $\{\neg P_{1,1}, Q_{1,1}\}$ &
  $\{\neg P_{1,2}, Q_{1,1}\}$ \\
  $\{\neg Q_{1,1}, P_{1,1}, P_{3,1}\}$ &
  $\{\neg P_{1,1}, Q_{1,1}\}$ &
  $\{\neg P_{3,1}, Q_{1,1}\}$ \\
  $\{\neg Q_{2,1}, P_{2,1}, P_{2,2}\}$ &
  $\{\neg P_{2,1}, Q_{2,1}\}$ &
  $\{\neg P_{2,2}, Q_{2,1}\}$ \\
  $\{\neg Q_{2,1}, P_{2,1}, P_{3,1}\}$ &
  $\{\neg P_{2,1}, Q_{2,1}\}$ &
  $\{\neg P_{3,1}, Q_{2,1}\}$
\end{tabular}

The pigeonhole principle for $n=2$ is represented by just three clauses:
\[\{Q_{1,1}\}, \{Q_{2,1}\}, \{\neg Q_{1,1}, \neg Q_{2,1}\}\]

The first two are easily derived with two resolutions each:

\[
\infer{\{Q_{1,1}\}}{
  \infer{\{P_{1,2},Q_{1,1}\}}{
    \{P_{1,1},P_{1,2}\}
    &
    \{\neg P_{1,1},Q_{1,1}\}
  }
  &
  \{\neg P_{1,2}, Q_{1,1}\}
}
\]

\[
\infer{\{Q_{2,1}\}}{
  \infer{\{P_{2,2},Q_{2,1}\}}{
    \{P_{2,1},P_{2,2}\}
    &
    \{\neg P_{2,1},Q_{2,1}\}
  }
  &
  \{\neg P_{2,2}, Q_{2,1}\}
}
\]

Then, making use of those clauses, we derive two lemmas. The first states, in terms of the mappings described in the section on extended resolution, that if $\phi'(1) = 1$, then $\phi(3) = 1$, and the second states that if $\phi'(2) = 1$, then $\phi(2) = 2$.

\scalebox{0.9}{
\[
\infer{\{\neg Q_{1,1}, P_{3,1}\}^{(*)}}{
  \infer{\{\neg P_{1,1}\}}{
    \infer{\{\neg P_{1,1}, P_{3,1}\}}{
      \infer{\{P_{2,1}, P_{3,1}\}}{
        \{Q_{2,1}\}
        &
        \{\neg Q_{2,1}, P_{2,1}, P_{3,1}\}
      }
      &
      \{\neg P_{1,1}, \neg P_{2,1}\}
    }
    &
    \{\neg P_{1,1}, \neg P_{3,1}\}
  }
  &
  \{\neg Q_{1,1}, P_{1,1}, P_{3,1}\}
}
\]
}

\scalebox{0.9}{
\[
\infer{\{\neg Q_{2,1}, P_{2,2}\}^{(**)}}{
  \infer{\{\neg P_{2,1}\}}{
    \infer{\{P_{3,1}, \neg P_{2,1}\}}{
      \infer{\{P_{1,1}, P_{3,1}\}}{
        \{Q_{1,1}\}
        &
        \{\neg Q_{1,1}, P_{1,1}, P_{3,1}\}
      }
      &
      \{\neg P_{1,1}, \neg P_{2,1}\}
    }
    &
    \{\neg P_{2,1}, \neg P_{3,1}\}
  }
  &
  \{\neg Q_{2,1}, P_{2,1}, P_{2,2}\}
}
\]
}

From those lemmas we finally derive the last of our clauses for $n=2$.

\scalebox{0.9}{
\[
\infer{\{\neg Q_{1,1}, \neg Q_{2,1}\}}{
  \infer{\{\neg Q_{1,1}, P_{1,2}\}}{
    \infer{\{\neg Q_{1,1}, \neg P_{1,1}\}}{
      \{\neg Q_{1,1}, P_{3,1}\}^{(*)}
      &
      \{\neg P_{1,1}, \neg P_{3,1}\}
    }
    &
    \{P_{1,1}, P_{1,2}\}
  }
  &
  \infer{\{\neg Q_{2,1}, \neg P_{1,2}\}}{
    \{\neg Q_{2,1},P_{2,2}\}^{(**)}
    &
    \{\neg P_{2,2}, \neg P_{1,2}\}
  }
}
\]
}

\end{appendices}
